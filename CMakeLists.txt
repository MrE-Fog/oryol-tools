#
# project: oryol-tools
#
cmake_minimum_required(VERSION 2.8)
get_filename_component(FIPS_ROOT_DIR "../fips" ABSOLUTE)
include("${FIPS_ROOT_DIR}/cmake/fips.cmake")

# cpptoml requires exceptions and RTTI enabled
set(FIPS_EXCEPTIONS ON CACHE BOOL "Enable C++ exceptions" FORCE)
set(FIPS_RTTI ON CACHE BOOL "Enable C++ RTTI" FORCE)
set(ASSIMP_BUILD_3DS_IMPORTER OFF CACHE BOOL "Disable 3DS" FORCE)
set(ASSIMP_BUILD_3D_IMPORTER OFF CACHE BOOL "Disable 3D" FORCE)
set(ASSIMP_BUILD_3MF_IMPORTER OFF CACHE BOOL "Disable 3MF" FORCE)
set(ASSIMP_BUILD_AC_IMPORTER OFF CACHE BOOL "Disable AC" FORCE)
set(ASSIMP_BUILD_AMF_IMPORTER OFF CACHE BOOL "Disable AMF" FORCE)
set(ASSIMP_BUILD_ASE_IMPORTER OFF CACHE BOOL "Disable ASE" FORCE)
set(ASSIMP_BUILD_B3D_IMPORTER OFF CACHE BOOL "Disable B3D" FORCE)
set(ASSIMP_BUILD_BLEND_IMPORTER OFF CACHE BOOL "Disbale Blend" FORCE)
set(ASSIMP_BUILD_BVH_IMPORTER OFF CACHE BOOL "Disable BVH" FORCE)
set(ASSIMP_BUILD_COB_IMPORTER OFF CACHE BOOL "Disable COB" FORCE)
set(ASSIMP_BUILD_COLLADA_IMPORTER OFF CACHE BOOL "Disable Collada" FORCE)
set(ASSIMP_BUILD_CSM_IMPORTER OFF CACHE BOOL "Disable CSM" FORCE)
set(ASSIMP_BUILD_DXF_IMPORTER OFF CACHE BOOL "Disable DXF" FORCE)
set(ASSIMP_BUILD_HMP_IMPORTER OFF CACHE BOOL "Disable HMP" FORCE)
set(ASSIMP_BUILD_IFC_IMPORTER OFF CACHE BOOL "Disable IFC" FORCE)
set(ASSIMP_BUILD_IRRMESH_IMPORTER OFF CACHE BOOL "Disable IRRMESH" FORCE)
set(ASSIMP_BUILD_IRR_IMPORTER OFF CACHE BOOL "Disable IRR" FORCE)
set(ASSIMP_BUILD_LWO_IMPORTER OFF CACHE BOOL "Disable LWO" FORCE)
set(ASSIMP_BUILD_LWS_IMPORTER OFF CACHE BOOL "Disable LWS" FORCE)
set(ASSIMP_BUILD_NDO_IMPORTER OFF CACHE BOOL "Disable NDO" FORCE)
set(ASSIMP_BUILD_NFF_IMPORTER OFF CACHE BOOL "Disable NFF" FORCE)
set(ASSIMP_BUILD_NONFREE_C4D_IMPORTER OFF CACHE BOOL "Disable C4D" FORCE)
set(ASSIMP_BUILD_PLY_IMPORTER OFF CACHE BOOL "Disable PLY" FORCE)
set(ASSIMP_BUILD_SIB_IMPORTER OFF CACHE BOOL "Disable SIB" FORCE)
set(ASSIMP_BUILD_SMD_IMPORTER OFF CACHE BOOL "Disable SMD" FORCE)
set(ASSIMP_BUILD_STL_IMPORTER OFF CACHE BOOL "Disable STL" FORCE)
set(ASSIMP_BUILD_TERRAGEN_IMPORTER OFF CACHE BOOL "Disable Terragen" FORCE)
set(ASSIMP_BUILD_X3D_IMPORTER OFF CACHE BOOL "Disable X3D" FORCE)
set(ASSIMP_BUILD_XGL_IMPORTER OFF CACHE BOOL "Disable XGL" FORCE)
set(ASSIMP_BUILD_X_IMPORTER OFF CACHE BOOL "Disable X" FORCE)
set(ASSIMP_BUILD_ASSBIN_IMPORTER OFF CACHE BOOL "Disable ASSBIN" FORCE)
set(ASSIMP_BUILD_MD2_IMPORTER OFF CACHE BOOL "Disable MD2" FORCE)
set(ASSIMP_BUILD_MD3_IMPORTER OFF CACHE BOOL "Disable MD3" FORCE)
set(ASSIMP_BUILD_MD5_IMPORTER OFF CACHE BOOL "Disable MD5" FORCE)
set(ASSIMP_BUILD_MDC_IMPORTER OFF CACHE BOOL "Disable MDC" FORCE)
set(ASSIMP_BUILD_MDL_IMPORTER OFF CACHE BOOL "Disable MDL" FORCE)
set(ASSIMP_BUILD_MS3D_IMPORTER OFF CACHE BOOL "Disable MS3D" FORCE)
set(ASSIMP_BUILD_OBJ_IMPORTER OFF CACHE BOOL "Disable OBJ" FORCE)
set(ASSIMP_BUILD_OFF_IMPORTER OFF CACHE BOOL "Disable OFF" FORCE)
set(ASSIMP_BUILD_OGRE_IMPORTER OFF CACHE BOOL "Disable OGRE" FORCE)
set(ASSIMP_BUILD_OPENGEX_IMPORTER OFF CACHE BOOL "Disable OPENGEX" FORCE)
set(ASSIMP_BUILD_Q3BSP_IMPORTER OFF CACHE BOOL "Disable Q3BSP" FORCE)
set(ASSIMP_BUILD_Q3D_IMPORTER OFF CACHE BOOL "Disable Q3D" FORCE)
set(ASSIMP_BUILD_RAW_IMPORTER OFF CACHE BOOL "Disable RAW" FORCE)
set(ASSIMP_BUILD_GLTF_IMPORTER OFF CACHE BOOL "Disable GLTF" FORCE)

fips_setup()
fips_project(oryol-tools)

include_directories(src)
fips_add_subdirectory(src)

# on Linux link everything statically to prevent DLL version hell between Linux distros
if (FIPS_LINUX)
    set_target_properties(oryol-shdc oryol-export PROPERTIES LINK_FLAGS "-static")
endif()

fips_finish()
